DROP ALL OBJECTS;

CREATE TABLE IF NOT EXISTS users (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username varchar(64) NOT NULL,
    password varchar(256) NOT NULL,
    enabled INT NOT NULL
    );

CREATE TABLE IF NOT EXISTS authorities (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username varchar(64) NOT NULL,
    authority varchar(64) NOT NULL
    );

CREATE TABLE IF NOT EXISTS userdata (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    firstname VARCHAR(64) NOT NULL,
    lastname VARCHAR(64) NOT NULL,
    birthday DATE NOT NULL,
    email VARCHAR(256) NOT NULL,
    username VARCHAR(64) NOT NULL,
    sport VARCHAR(64) NOT NULL,
    team VARCHAR(64) NOT NULL
    );

CREATE TABLE IF NOT EXISTS ratings (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username VARCHAR(64) NOT NULL,
    rate INT NOT NULL,
    date DATE NOT NULL,
    text VARCHAR(512) NOT NULL
    );

CREATE TABLE IF NOT EXISTS prizes (
    id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    prize VARCHAR(64) NOT NULL
    );

CREATE TABLE IF NOT EXISTS scoreboard (
    id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username VARCHAR(64) NOT NULL,
    score INT NOT NULL,
    prizeswon INT NOT NULL
    );

CREATE TABLE IF NOT EXISTS giornate (
    id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username VARCHAR(64) NOT NULL,
    counter INT NOT NULL,
    lastaccess DATE NOT NULL
    );

INSERT INTO prizes (prize) VALUES ('Ticket');
INSERT INTO prizes (prize) VALUES ('T-Shirt');
INSERT INTO prizes (prize) VALUES ('Dinner');

/*

JUST FOR TESTING:

Admin Credentials
username: admin
password: admin

User Credentials
username: user
password: user

*/

INSERT INTO USERS (username, password, enabled) VALUES ('admin', '$2a$10$j2OxBW5Q1oEMeA2SXpy4muowIfE6h7mDya6GLptFZG5/NNASHtyEW', 1);
INSERT INTO USERS (username, password, enabled) VALUES ('user', '$2a$10$Q82pE5bsvLaIW/WQxVnOh.U0OKmjwCAwvx/hrYg8JmsUhKE5.8j3O', 1);
INSERT INTO USERS (username, password, enabled) VALUES ('mati06', 'somerandomchars!', 1);
INSERT INTO USERS (username, password, enabled) VALUES ('lil_scalvi', 'somecharsagain!', 1);
INSERT INTO USERS (username, password, enabled) VALUES ('MagicDeto', 'cantaccessthis', 1);
INSERT INTO USERS (username, password, enabled) VALUES ('pippo23', 'password1234', 1);
INSERT INTO USERS (username, password, enabled) VALUES ('Carlo_Vaz2025', 'utente!03encrypted', 1);

INSERT INTO AUTHORITIES (username, authority) VALUES ('admin', 'ROLE_ADMIN#03');
INSERT INTO AUTHORITIES (username, authority) VALUES ('user', 'ROLE_USER#03');
INSERT INTO AUTHORITIES (username, authority) VALUES ('mati06', 'ROLE_MODERATOR#03');
INSERT INTO AUTHORITIES (username, authority) VALUES ('lil_scalvi', 'ROLE_USER#03');
INSERT INTO AUTHORITIES (username, authority) VALUES ('MagicDeto', 'ROLE_MODERATOR#03');
INSERT INTO AUTHORITIES (username, authority) VALUES ('pippo23', 'ROLE_USER#03');
INSERT INTO AUTHORITIES (username, authority) VALUES ('Carlo_Vanz2025', 'ROLE_USER#03');

INSERT INTO USERDATA (firstname, lastname, birthday, email, username, sport, team) VALUES ('Admin', 'Admin', '1901-01-01', 'admin@admin', 'admin', 'cricket', 'Piripuz Cricket SC' );
INSERT INTO USERDATA (firstname, lastname, birthday, email, username, sport, team) VALUES ('User', 'User', '2000-01-01', 'user@user', 'user', 'cricket', 'Piripuz Cricket SC' );
INSERT INTO USERDATA (firstname, lastname, birthday, email, username, sport, team) VALUES ('Matilde', 'Rossi', '2006-04-22', 'matilde.rossi@gmail.com', 'mati06', 'cricket', 'Piripuz Cricket SC' );
INSERT INTO USERDATA (firstname, lastname, birthday, email, username, sport, team) VALUES ('Thomas', 'Scalvi', '2004-04-27', 't.scalvi@gmail.com', 'lil_scalvi', 'cricket', 'Piripuz Cricket SC' );
INSERT INTO USERDATA (firstname, lastname, birthday, email, username, sport, team) VALUES ('Alessandro', 'De Toffoli', '2004-08-05', 'ale.detoffoli@gmail.com', 'MagicDeto', 'cricket', 'Piripuz Cricket SC' );
INSERT INTO USERDATA (firstname, lastname, birthday, email, username, sport, team) VALUES ('Filippo', 'Rossi', '1997-11-13', 'pippo.rossi@gmail.com', 'pippo23', 'cricket', 'Piripuz Cricket SC' );
INSERT INTO USERDATA (firstname, lastname, birthday, email, username, sport, team) VALUES ('Carlo', 'Vazzi', '1978-01-18', 'carlo.vaz@gmail.com', 'Carlo_Vaz2025', 'cricket', 'Piripuz Cricket SC' );

INSERT INTO SCOREBOARD (username, score, prizeswon) VALUES ('admin', 0, 0);
INSERT INTO SCOREBOARD (username, score, prizeswon) VALUES ('user', 0, 0);
INSERT INTO SCOREBOARD (username, score, prizeswon) VALUES ('mati06', 5, 2);
INSERT INTO SCOREBOARD (username, score, prizeswon) VALUES ('lil_scalvi', 1, 0);
INSERT INTO SCOREBOARD (username, score, prizeswon) VALUES ('MagicDeto', 3, 4);
INSERT INTO SCOREBOARD (username, score, prizeswon) VALUES ('pippo23', 0, 1);
INSERT INTO SCOREBOARD (username, score, prizeswon) VALUES ('Carlo_Vanz2025', 1, 3);

INSERT INTO GIORNATE (username, counter, lastaccess) VALUES ('admin', 0, '1901-01-01');
INSERT INTO GIORNATE (username, counter, lastaccess) VALUES ('user', 0, '2000-01-01');
INSERT INTO GIORNATE (username, counter, lastaccess) VALUES ('mati06', 14, '2025-05-16');
INSERT INTO GIORNATE (username, counter, lastaccess) VALUES ('lil_scalvi', 19, '2025-06-21');
INSERT INTO GIORNATE (username, counter, lastaccess) VALUES ('MagicDeto', 24, '2025-06-09');
INSERT INTO GIORNATE (username, counter, lastaccess) VALUES ('pippo23', 8, '2025-06-08');
INSERT INTO GIORNATE (username, counter, lastaccess) VALUES ('Carlo_Vanz2025', 16, '2025-05-30');

INSERT INTO RATINGS (username, rate, date, text) VALUES ('mati06', 5, '2025-04-25', 'Ho iniziato per caso, pensavo fosse solo l’ennesima app di scommesse, ma invece mi sono appassionato al cricket! Il sistema delle schedine è semplice e ci si prende gusto a provarci ogni giorno. Attendo con ansia l’aggiunta di altri sport!');
INSERT INTO RATINGS (username, rate, date, text) VALUES ('MagicDeto', 3, '2025-04-30', 'L’interfaccia è chiara e ben fatta, ma purtroppo si può giocare solo sul cricket. Capisco che è l’unico sport attivo, ma almeno una modalità demo per gli altri sport sarebbe utile. Potenziale interessante.');
INSERT INTO RATINGS (username, rate, date, text) VALUES ('lil_scalvi', 5, '2025-05-07', 'Non ho mai seguito una partita di cricket in vita mia, ma grazie a quest’app adesso mi sembra quasi di capirci qualcosa. Le schedine sono facili da compilare, e l’esperienza è fluida. Manca solo un po’ più di varietà.');
INSERT INTO RATINGS (username, rate, date, text) VALUES ('Carlo_Vanz2025', 2, '2025-05-14', 'Mi sono iscritto pensando di trovare anche F1 e WEC, ma per ora c’è solo il cricket. L’app funziona bene, ma è troppo limitata per ora. Spero in aggiornamenti a breve.');
INSERT INTO RATINGS (username, rate, date, text) VALUES ('pippo23', 5, '2025-06-01', 'L’app funziona bene, e l’idea delle schedine sugli sport è interessante. Peccato che al momento ci sia solo il cricket, che non è proprio il mio sport preferito. La grafica è piacevole, ma servirebbero più opzioni per renderla davvero completa.');